<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Consulta de Fila de Carregamento</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f2f2f2;
    padding: 20px;
}
.container {
    max-width: 600px;
    margin: auto;
}
.card {
    background: white;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.titulo {
    font-size: 22px;
    font-weight: bold;
    margin-bottom: 20px;
    text-align: center;
}
.info {
    margin: 5px 0;
}
.footer {
    margin-top: 20px;
    text-align: center;
    font-size: 13px;
    color: #555;
}
</style>
</head>
<body>

<div class="container">
    <div class="titulo">üì¶ Consulta de Fila de Carregamento</div>

    <div id="conteudo">
        Carregando informa√ß√µes...
    </div>

    <div class="footer">
        P√°gina atualiza automaticamente.<br>
        Atualizado com base no √∫ltimo envio interno.
    </div>
</div>

<script>
// For√ßa sempre pegar o arquivo atualizado
fetch("fila.json?cache=" + Date.now())
  .then(r => r.json())
  .then(data => {
      if (data.length === 0) {
        document.getElementById("conteudo").innerHTML =
          "<p>Nenhum ve√≠culo na fila no momento.</p>";
        return;
      }

      let html = "";

      data.forEach(item => {
         html += `
           <div class="card">
             <div class="info"><b>Posi√ß√£o:</b> ${item.posicao}</div>
             <div class="info"><b>Placa:</b> ${item.placa}</div>
             <div class="info"><b>Atualizado:</b> ${item.atualizado}</div>
           </div>
         `;
      });

      document.getElementById("conteudo").innerHTML = html;
  })
  .catch(err => {
    document.getElementById("conteudo").innerHTML =
      "<p>Erro ao carregar a fila.</p>";
  });
</script>

</body>
</html>
